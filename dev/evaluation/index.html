<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Evaluation · TravellingSailorProblem.jl</title><meta name="title" content="Evaluation · TravellingSailorProblem.jl"/><meta property="og:title" content="Evaluation · TravellingSailorProblem.jl"/><meta property="twitter:title" content="Evaluation · TravellingSailorProblem.jl"/><meta name="description" content="Documentation for TravellingSailorProblem.jl."/><meta property="og:description" content="Documentation for TravellingSailorProblem.jl."/><meta property="twitter:description" content="Documentation for TravellingSailorProblem.jl."/><meta property="og:url" content="https://speedyweather.github.io/TravellingSailorProblem.jl/evaluation/"/><meta property="twitter:url" content="https://speedyweather.github.io/TravellingSailorProblem.jl/evaluation/"/><link rel="canonical" href="https://speedyweather.github.io/TravellingSailorProblem.jl/evaluation/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TravellingSailorProblem.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../new_to_julia/">New to Julia?</a></li><li><a class="tocitem" href="../destination/">Destination</a></li><li><a class="tocitem" href="../particles/">Particle advection</a></li><li class="is-active"><a class="tocitem" href>Evaluation</a><ul class="internal"><li><a class="tocitem" href="#Point-system"><span>Point system</span></a></li><li><a class="tocitem" href="#Evaluate-submission-script"><span>Evaluate submission script</span></a></li></ul></li><li><span class="tocitem">TravellingSailorProblem challenge</span><ul><li><a class="tocitem" href="../instructions/">Instructions</a></li><li><a class="tocitem" href="../submit/">Submit</a></li><li><a class="tocitem" href="../leaderboard/">Leaderboard</a></li><li><a class="tocitem" href="../submissions/">List of submissions</a></li></ul></li><li><a class="tocitem" href="../functions_types/">Functions and types</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Evaluation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Evaluation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SpeedyWeather/TravellingSailorProblem.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SpeedyWeather/TravellingSailorProblem.jl/blob/main/docs/src/evaluation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Evaluation"><a class="docs-heading-anchor" href="#Evaluation">Evaluation</a><a id="Evaluation-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluation" title="Permalink"></a></h1><p>To evaluate how many destionations you reached, delivering Christmas presents to the respective children after the simulation ran, do</p><pre><code class="language-julia hljs">evaluate(particle_tracker, children)</code></pre><p>Within the whole setup this is</p><pre><code class="language-julia hljs">using TravellingSailorProblem, SpeedyWeather

nchildren = 26
spectral_grid = SpectralGrid(nparticles=nchildren, nlayers=8)
particle_advection = ParticleAdvection2D(spectral_grid, layer=8)
model = PrimitiveWetModel(spectral_grid; particle_advection)
simulation = initialize!(model, time=DateTime(2025, 11, 14))

# define children and add to the model as destinations
children = TravellingSailorProblem.children(nchildren)
add!(model, children)

# define particle tracker and add to the model
particle_tracker = ParticleTracker(spectral_grid)
add!(model, :particle_tracker =&gt; particle_tracker)

run!(simulation, period=Day(40))

evaluate(particle_tracker, children)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr93">Destination  1    Ana ( -97.1˚E,  49.9˚N) reached by particle 15:  36019 points</span>
<span class="sgr93">Destination  2   Babu ( 115.0˚E,  -8.7˚N) reached by particle 13:   6792 points</span>
<span class="sgr94">Destination  3  Carla (  73.5˚E,  -4.6˚N)  missed by particle 20:  -7010 points</span>
<span class="sgr94">Destination  4  Diego ( -51.7˚E,  64.2˚N)  missed by particle  2:  -1714 points</span>
<span class="sgr93">Destination  5   Elif ( 121.0˚E,  14.6˚N) reached by particle 10:   2527 points</span>
<span class="sgr94">Destination  6 Felipe ( -70.7˚E, -53.2˚N)  missed by particle 23:  -3420 points</span>
<span class="sgr94">Destination  7   Gael ( 106.8˚E,  10.8˚N)  missed by particle 10: -15959 points</span>
<span class="sgr94">Destination  8 Haruko (  18.5˚E, -33.9˚N)  missed by particle 22:  -9129 points</span>
<span class="sgr94">Destination  9   Isla ( -74.1˚E,   4.7˚N)  missed by particle  9: -13801 points</span>
<span class="sgr94">Destination 10   Jose (  -1.3˚E,  51.8˚N)  missed by particle  8:  -1843 points</span>
<span class="sgr94">Destination 11  Karim ( 139.7˚E,  35.7˚N)  missed by particle 15:  -2156 points</span>
<span class="sgr94">Destination 12   Lola (-157.8˚E,  21.3˚N)  missed by particle  1: -18386 points</span>
<span class="sgr94">Destination 13  Maeve ( -96.7˚E,  17.1˚N)  missed by particle  9:  -2312 points</span>
<span class="sgr94">Destination 14   Noah ( 115.9˚E, -31.9˚N)  missed by particle 14: -12122 points</span>
<span class="sgr94">Destination 15   Omar ( 166.7˚E, -77.8˚N)  missed by particle  7:  -1385 points</span>
<span class="sgr94">Destination 16  Priya ( 106.9˚E,  47.9˚N)  missed by particle 15:  -1474 points</span>
<span class="sgr94">Destination 17 Quirin ( 151.2˚E, -33.9˚N)  missed by particle 17: -14634 points</span>
<span class="sgr94">Destination 18 Rasmus (  15.6˚E,  78.2˚N)  missed by particle  2:  -2083 points</span>
<span class="sgr94">Destination 19 Saanvi (-169.9˚E, -21.2˚N)  missed by particle 19: -13009 points</span>
<span class="sgr94">Destination 20  Tomas ( -61.5˚E,  10.5˚N)  missed by particle  4:  -6212 points</span>
<span class="sgr94">Destination 21    Uma ( 158.7˚E,  53.0˚N)  missed by particle  6:  -2702 points</span>
<span class="sgr93">Destination 22   Vera (  15.3˚E,   4.4˚N) reached by particle 26:  14784 points</span>
<span class="sgr94">Destination 23 Walter (  -5.9˚E, -15.9˚N)  missed by particle  4: -14365 points</span>
<span class="sgr94">Destination 24    Xia (  85.3˚E,  27.7˚N)  missed by particle  8:  -1649 points</span>
<span class="sgr94">Destination 25   Yuki ( -47.9˚E, -15.8˚N)  missed by particle 22: -20720 points</span>
<span class="sgr94">Destination 26   Zara (  -7.6˚E,  33.6˚N)  missed by particle 11:  -1091 points</span>

Evaluation: 4/26 reached, -107054 points</code></pre><p>And the last line will print you a list of all children and whether they have been reached or not, the respective points you got from each child (positive for reached, negative for missed) and a summary of points. The aim of the TravellingSailorProblem is to maximize the amount of points by reaching as many children as possible with particles flying as far as possible before reaching a child.</p><h2 id="Point-system"><a class="docs-heading-anchor" href="#Point-system">Point system</a><a id="Point-system-1"></a><a class="docs-heading-anchor-permalink" href="#Point-system" title="Permalink"></a></h2><p>We give</p><pre><code class="language-julia hljs">TravellingSailorProblem.POINTS_PER_KM_REACHED</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1</code></pre><p>positive point(s) for each km a particle flew before reaching its destination. A child would get more excited the further  their Christmas present flew? Imagine you get a Christmas present that flew through both the Arctic as well as Antarctica!</p><p>Additionally, we use</p><pre><code class="language-julia hljs">TravellingSailorProblem.POINT_FACTOR_AT_SURFACE</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><p>times higher points for particles that flew on the lowermost vertical layer compared to the uppermost. This calculation is done in <a href="https://speedyweather.github.io/SpeedyWeatherDocumentation/dev/primitiveequation/#Sigma-coordinates">Sigma-coordinates</a> so when choosing <code>layer=1</code> (top) one gets 1.0625 points per km flown, but on <code>layer=8</code> (surface) one gets 1.9375 points per km flown. The reason is that the wind is more turbulent at the surface but more laminar higher up. To incentivise low-flying presents we therefore introduced this point-multiplier.</p><p>However, if a child doesn&#39;t get a Christmas present we give</p><pre><code class="language-julia hljs">TravellingSailorProblem.POINTS_PER_KM_MISSED</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-10</code></pre><p>(note: NEGATIVE!) points for every km the closest particle ever was to a child. If you live on Hawai&#39;i and no particle doesn&#39;t even get near you, you would also be pretty disappointed no? This incetivises you to get as close as possible to a child and you get less penalised if you barely miss it compared to not even trying to fly a present near it! Note the point mutiplier does not apply for missed children, negative points are the same on every vertical layer.</p><h2 id="Evaluate-submission-script"><a class="docs-heading-anchor" href="#Evaluate-submission-script">Evaluate submission script</a><a id="Evaluate-submission-script-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluate-submission-script" title="Permalink"></a></h2><p>In <a href="../submit/#Submit-to-the-TravellingSailorProblem">Submit to the TravellingSailorProblem</a> we illustrate a submission by using a script <code>filename.jl</code> which contains</p><pre><code class="language-julia hljs">nchildren = 5   # number of children and particles
layer = 8       # vertical layer
departures = [
    (  5, 0),   # (lon, lat) in degrees, particle 1
    ( -5, 0),   # particle 2
    (-15, 0),   # etc
    (-25, 0),
    (-35, 0),
]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">5-element Vector{Tuple{Int64, Int64}}:
 (5, 0)
 (-5, 0)
 (-15, 0)
 (-25, 0)
 (-35, 0)</code></pre><p>You can shortcut the evaluation following the procedure in the <a href="../leaderboard/#TravellingSailorProblem-leaderboard">TravellingSailorProblem leaderboard</a> by doing after having defined <code>nchildren</code>, <code>layer</code> and <code>departures</code></p><pre><code class="language-julia hljs">particle_tracker, children = run_submission(nchildren=nchildren, layer=layer, departures=departures)
evaluate(particle_tracker, children)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr94">Destination  1    Ana ( -97.1˚E,  49.9˚N)  missed by particle  2: -56705 points</span>
<span class="sgr94">Destination  2   Babu ( 115.0˚E,  -8.7˚N)  missed by particle  1: -103186 points</span>
<span class="sgr94">Destination  3  Carla (  73.5˚E,  -4.6˚N)  missed by particle  1: -57172 points</span>
<span class="sgr94">Destination  4  Diego ( -51.7˚E,  64.2˚N)  missed by particle  2: -62770 points</span>
<span class="sgr94">Destination  5   Elif ( 121.0˚E,  14.6˚N)  missed by particle  1: -108837 points</span>

Evaluation: 0/5 reached, -388670 points</code></pre><p>The first line will use <code>nchildren</code>, <code>layer</code> and <code>departures</code> to run a simulation with the default setup and return <a href="../particles/#Particle-tracker">Particle tracker</a> and <code>children</code> (the <a href="../destination/#Destination">Destination</a>s). The second line will then evaluate those and return points as described in <a href="#Evaluation">Evaluation</a>. And based on <code>particle_tracker</code> and <code>children</code> you can then also <a href="../particles/#Visualising-trajectories">Visualising trajectories</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../particles/">« Particle advection</a><a class="docs-footer-nextpage" href="../instructions/">Instructions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 9 January 2026 11:50">Friday 9 January 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
