var documenterSearchIndex = {"docs":
[{"location":"destination/#Destination","page":"Destination","title":"Destination","text":"","category":"section"},{"location":"destination/","page":"Destination","title":"Destination","text":"A Destionation is a SpeedyWeather callback that will check after every time step how close particles (see Particle advection) are and decide whether one particle reached that destination (within a given radius) and mark itself as reached and deactivate that particle.","category":"page"},{"location":"destination/#Predefined-destinations","page":"Destination","title":"Predefined destinations","text":"","category":"section"},{"location":"destination/","page":"Destination","title":"Destination","text":"For the TravellingSailorProblem there are 26 predefined destinations. In analogy to delivering Christmas presents to children around the world these are","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"using TravellingSailorProblem\nchildren = TravellingSailorProblem.children(26)","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"Their names are in alphabetical order for easier identification when Visualising destinations, their respective locations are the same for every user of TravellingSailorProblem. Initially they are set to reached=false as they haven't received any parcels (=Christmas present) yet.  You can create fewer destinations which will just pick the first N of those 26, e.g.","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"children = TravellingSailorProblem.children(5)","category":"page"},{"location":"destination/#Visualising-destinations","page":"Destination","title":"Visualising destinations","text":"","category":"section"},{"location":"destination/","page":"Destination","title":"Destination","text":"The 26 destinations (children) are somewhat uniformly distributed all over the globe in various places (all on land). You can visualise those locations with","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"using TravellingSailorProblem, GLMakie, GeoMakie\n\nchildren = TravellingSailorProblem.children(26)\nglobe(children)\nsave(\"destination26.png\", ans) # hide\nnothing # hide","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"(Image: )","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"which marks every destination (=child) with the first letter of their name. Choosing fewer children will only visualise those. If you want the perspective on a particular destination you can pass that on as perspective = destination, e.g. children[2] is a destination (children is a tuple of destinations) if you have at least 2 children defined","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"using TravellingSailorProblem, GLMakie, GeoMakie\n\nchildren = TravellingSailorProblem.children(26)\nglobe(children, perspective=children[2])\nsave(\"destination2.png\", ans) # hide\nnothing # hide","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"(Image: )","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"In this documentation that visualisation is static but if you do this in the Julia REPL you will get an interactive visualisation where you can rotate and zoom. You can also provide a perspective with coordinates, e.g. perspective = (0, 52) to look down onto London, UK.","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"You can also change the altitude, typical values are between 1e6 (country level) and 2e7 (global view), e.g. to zoom onto London do","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"globe(children, perspective=(0, 52), altitude=1e6)\nsave(\"destination_london.png\", ans) # hide\nnothing # hide","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"(Image: )","category":"page"},{"location":"destination/","page":"Destination","title":"Destination","text":"By default a \"shadow\" is visualised below each destination to illustrate its radius a particle has to reach for the destination to be marked \"reached\". Unreached/missed destinations are marked in yellow but they turn purple if a particle gets within the radius!","category":"page"},{"location":"particles/#Particle-advection","page":"Particle advection","title":"Particle advection","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"There are several steps for particle advection in SpeedyWeather. Particle advection in general is described in more detail in","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Particle advection","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Generally we do,","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"using TravellingSailorProblem, SpeedyWeather\n\n# how many particles do you want when creating a spectral grid\nspectral_grid = SpectralGrid(nparticles=10)\n\n# create a particle advection component, choose the layer it's on\nparticle_advection = ParticleAdvection2D(spectral_grid, layer=8)\n\n# pass the particle advection to the model constructor\nmodel = PrimitiveWetModel(spectral_grid; particle_advection)\n\n# define particle tracker and add to the model\nparticle_tracker = ParticleTracker(spectral_grid)\nadd!(model, :particle_tracker => particle_tracker)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"which is now explained in more detail","category":"page"},{"location":"particles/#nparticles","page":"Particle advection","title":"nparticles","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"In SpeedyWeather, creating a spectral_grid means to choose the resolution so that every component knows of which size to allocate variables etc. Hence you have to decide here how many particles you want by passing on the nparticles keyword argument. The number of particles is then displayed","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"SpectralGrid(nparticles=100)","category":"page"},{"location":"particles/#ParticleAdvection2D","page":"Particle advection","title":"ParticleAdvection2D","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"By default, SpeedyWeather does not advect any particles. So you have to create a ParticleAdvection2D component (there is no 3D, yet, sorry!) and the spectral_grid has to be passed on as the first argument so the particle advection knows how many particles to advect!","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"ParticleAdvection2D(spectral_grid, layer=8)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"As the advection is in 2D, on a given layer of a SpeedyWeather simulation (so don't choose it higher than nlayers in spectral_grid!) you can choose the layer here too. Layers are numbered 1 at the top of the atmosphere to nlayers near the surface. There are other options but we won't change those.","category":"page"},{"location":"particles/#Model-constructor","page":"Particle advection","title":"Model constructor","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"In SpeedyWeather, PrimitiveWetModel is the model that solves the primitive equations (widely used for weather forecasting) with humidity. It takes the spectral_grid as the first argument and then keyword arguments for every non-default model component. If you look at model it's quite lenghty as it shows every single model component, from numerics, to output to parameterizations that are used inside a simulation. But now model.particle_advection is just the particle advection we just created, it also lives inside the model now!","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"model = PrimitiveWetModel(spectral_grid; particle_advection)\nmodel.particle_advection","category":"page"},{"location":"particles/#Particle-tracker","page":"Particle advection","title":"Particle tracker","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"So far the particles would fly but their trajectory wouldn't be tracked. For that we create a particle tracker as follows, again passing on spectral_grid as the first argument","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"particle_tracker = ParticleTracker(spectral_grid)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"There's many options but we won't touch those or elaborate them here. Important is however that creating a particle tracker doesn't mean it's part of the model. For this we do","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"add!(model, :particle_tracker => particle_tracker)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"As the ParticleTracker is implemented as a callback you can provide a key (a name) for it, like here :particle_tracker but you could also give it your own key like :my_tracker or simply do","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"add!(model, particle_tracker)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"in which case a random key is chosen as printed with an [ Info: note. But beware now we have added the same particle_tracker twice but with two different keys in which case the same particle_tracker will be called twice on every time step – probably not a good idea. You can always check which callbacks you have added with","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"model.callbacks","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"and delete callbacks with delete!(model.callbacks, :key).  We delete one particle tracker by specifying its key, so that only the other one remains","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"delete!(model.callbacks, :particle_tracker)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Note that also the children are implemented as callbacks so you will likely see a list of both Destinations (the children) and the particle tracker!","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"warn: Do not add one particle tracker twice with different keys\nOtherwise the second will interfere with the netCDF file created by the first.","category":"page"},{"location":"particles/#Initial-conditions","page":"Particle advection","title":"Initial conditions","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"When the model is initialized it returns a simulation which contains that model as well as variables among which are the particles. We can therefore view those particles by","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"simulation = initialize!(model)\n(; particles) = simulation.prognostic_variables\nparticles","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"which is a Vector{Particle{T}} of some number format T. By default these particle initial conditions are uniformly random across the globe but you can manually choose the initial conditions with","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"particles[1] = Particle(-30, 50)  # lon, lat in degrees","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"You can use both (0, 360˚E) or (-180, 180˚E). Or create a random particle","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"particles[2] = rand(Particle)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Or a mix of both","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"particles[3] = Particle(-30, 50 + 5*randn())","category":"page"},{"location":"particles/#Particle-seeds","page":"Particle advection","title":"Particle seeds","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"rand(Particle) creates a random particle uniformly distributed over the globe (not packed towards the poles ...). While this is random, it's not directly reproducible. For that one can use a specific random number generator with a predefined seed, e.g. the Xoshiro random number generator","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"using Random, SpeedyWeather\n\nseed = 123\nRNG = Xoshiro(seed)\nrand(RNG, Particle)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"places a particle in a location that is different from the next particle (following a random sequence)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"rand(RNG, Particle)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"but one can always revert to an earlier (or later) point in the sequence by reseeding the random number generator","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Random.seed!(RNG, seed)\nrand(RNG, Particle)","category":"page"},{"location":"particles/#Visualising-trajectories","page":"Particle advection","title":"Visualising trajectories","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Now let us also add some children as destinations","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"children = TravellingSailorProblem.children(10)\nadd!(model, children)","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"which automatically uses their respective names as keys, you can check this with","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"model.callbacks","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Now we still need to initialize the model to obtain a simulation and run it!","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"simulation = initialize!(model)\nrun!(simulation, period=Day(41))","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"After this is complete we can investigate the particle trajectories with globe passing on the particle tracker used and the children that were added to the model","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"using GLMakie, GeoMakie\nglobe(particle_tracker, children)\nsave(\"trajectories1.png\", ans) # hide\nnothing # hide","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"(Image: )","category":"page"},{"location":"particles/#Performance-tips","page":"Particle advection","title":"Performance tips","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"You can probably advect thousands to millions of particles without problems, but visualising many many particles can get tricky. Here are several arguments to globe you can provide to speed things up","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"shadows=false\ntrack_labels=false (automatically for 100 or more particles)\nor don't pass on the children as destinations, only the particle_tracker","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"It is probably also wise to only visualise shorts tracks even though many, i.e. simulate particle tracks for a few days only, not weeks. Visualising 1000 particles advected for 1 day will give you a good overview of how the wind is blowing. But note that the initial conditions are unlikely representative for the remaining 41 days of a simulation. So maybe you want to run!(simulation, period=Week(1)) before adding the particle tracker (or the children)!","category":"page"},{"location":"particles/#Many-particles","page":"Particle advection","title":"Many particles","text":"","category":"section"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"Applying the ideas from Performance tips you could for example do","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"using SpeedyWeather, TravellingSailorProblem, GLMakie\n\n# create a simulation with 10 particles and particle advection\nspectral_grid = SpectralGrid(trunc=31, nlayers=8, nparticles=10_000)\nparticle_advection = ParticleAdvection2D(spectral_grid, layer=8)\nmodel = PrimitiveWetModel(spectral_grid; particle_advection)\nsimulation = initialize!(model, time=DateTime(2025, 11, 13))\nrun!(simulation, period=Week(2))    # run for two weeks without tracking\n\n# reset to random particle locations\n(; particles) = simulation.prognostic_variables\nfor i in eachindex(particles)\n    particles[i] = rand(Particle)\nend\n\n# add particle tracker\nparticle_tracker = ParticleTracker(spectral_grid)\nadd!(model, :particle_tracker => particle_tracker)\n\n# now run for a day\nrun!(simulation, period=Day(1))\n\n# visualise\nglobe(particle_tracker, perspective=(120, 30), shadows=false)\nsave(\"many_trajectories.png\", ans) # hide\nnothing # hide","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"(Image: )","category":"page"},{"location":"particles/","page":"Particle advection","title":"Particle advection","text":"But note that this is likely too slow to be interactive unfortunately.","category":"page"},{"location":"submissions/#List-of-submissions","page":"List of submissions","title":"List of submissions","text":"","category":"section"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"It follows the code and plot of the trajectories of all TravellingSailorProblem submissions to /submissions sorted in alphabetical order of the filename.","category":"page"},{"location":"submissions/#Jack-Sparrow:-All-26-random","page":"List of submissions","title":"Jack Sparrow: All 26 random","text":"","category":"section"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"path: /submissions/all_random.jl","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"rank: 1. of 6 submissions","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"name = \"Jack Sparrow\"\ndescription = \"All 26 random\"\n\nnchildren = 26      # [1, 26]\nlayer = 7           # [1, 8], 1 is top layer, 8 is surface layer\n\n# 26 random locations (lon, lat) in degrees ˚E, ˚N\ndepartures = [\n    (322.34,  62.20),\n    (100.16, -51.68),\n    ( 44.30, -27.89),\n    (105.32, -19.22),\n    (354.02,  68.25),\n    ( 79.60,  28.18),\n    ( 21.45,  37.36),\n    (270.17,  47.94),\n    ( 99.39,  20.99),\n    (186.29, -55.38),\n    (270.93,  -2.89),\n    (346.22, -65.58),\n    (272.65,  32.82),\n    (174.54, -51.99),\n    (358.22, -32.65),\n    ( 73.29,  27.31),\n    ( 35.74,  67.60),\n    (356.70,  45.61),\n    (238.86, -10.03),\n    ( 94.67, -19.18),\n    ( 94.02, -46.96),\n    (256.61,  24.72),\n    ( 39.68,  34.94),\n    ( 87.61,   9.33),\n    ( 77.99, -26.93),\n    (292.05,  40.39),\n]","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Evaluation:","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Destination  1    Ana ( -97.1˚E,  49.9˚N)  missed by particle 18:  -1570 points\nDestination  2   Babu ( 115.0˚E,  -8.7˚N)  missed by particle 20:  -1363 points\nDestination  3  Carla (  73.5˚E,  -4.6˚N)  missed by particle 24: -17621 points\nDestination  4  Diego ( -51.7˚E,  64.2˚N) reached by particle  6:  33927 points\nDestination  5   Elif ( 121.0˚E,  14.6˚N)  missed by particle 24:  -2912 points\nDestination  6 Felipe ( -70.7˚E, -53.2˚N) reached by particle  3:  40385 points\nDestination  7   Gael ( 106.8˚E,  10.8˚N)  missed by particle 24:  -3128 points\nDestination  8 Haruko (  18.5˚E, -33.9˚N)  missed by particle 14:  -2751 points\nDestination  9   Isla ( -74.1˚E,   4.7˚N)  missed by particle 11:  -8885 points\nDestination 10   Jose (  -1.3˚E,  51.8˚N) reached by particle  8:  67096 points\nDestination 11  Karim ( 139.7˚E,  35.7˚N) reached by particle 23:  17322 points\nDestination 12   Lola (-157.8˚E,  21.3˚N)  missed by particle 13:  -8817 points\nDestination 13  Maeve ( -96.7˚E,  17.1˚N)  missed by particle 22:  -9400 points\nDestination 14   Noah ( 115.9˚E, -31.9˚N)  missed by particle 25:  -2381 points\nDestination 15   Omar ( 166.7˚E, -77.8˚N)  missed by particle 21:  -1205 points\nDestination 16  Priya ( 106.9˚E,  47.9˚N)  missed by particle  1:  -1940 points\nDestination 17 Quirin ( 151.2˚E, -33.9˚N)  missed by particle 25:  -1253 points\nDestination 18 Rasmus (  15.6˚E,  78.2˚N)  missed by particle  5:  -2984 points\nDestination 19 Saanvi (-169.9˚E, -21.2˚N)  missed by particle 25:  -7388 points\nDestination 20  Tomas ( -61.5˚E,  10.5˚N)  missed by particle  1: -12895 points\nDestination 21    Uma ( 158.7˚E,  53.0˚N) reached by particle 17:  11494 points\nDestination 22   Vera (  15.3˚E,   4.4˚N)  missed by particle 11: -27595 points\nDestination 23 Walter (  -5.9˚E, -15.9˚N)  missed by particle 11:  -3449 points\nDestination 24    Xia (  85.3˚E,  27.7˚N)  missed by particle  6:  -2173 points\nDestination 25   Yuki ( -47.9˚E, -15.8˚N)  missed by particle 11:  -5815 points\nDestination 26   Zara (  -7.6˚E,  33.6˚N)  missed by particle 18: -10645 points\n\nEvaluation: 5/26 reached, 34054 points","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"(Image: submission: all_random)","category":"page"},{"location":"submissions/#Peter-Pan:-Westerlies","page":"List of submissions","title":"Peter Pan: Westerlies","text":"","category":"section"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"path: /submissions/westerlies.jl","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"rank: 2. of 6 submissions","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"name = \"Peter Pan\"\ndescription = \"Westerlies\"\n\nnchildren = 5       # [1, 26]\nlayer = 5           # [1, 8], 1 is top layer, 8 is surface layer\n\n# optional parameter: number format\nNF = Float64\n\n# Locations (lon, lat) in degrees ˚E, ˚N of the first 10 children\ndepartures = [\n    ( -97.1,  49.9),\n    ( 115.0,  -8.7),\n    (  73.5,  -4.6),\n    ( -51.7,  64.2),\n    ( 121.0,  14.6),\n]\n\n# move all 5 degrees west\nfor i in eachindex(departures)\n    lon, lat = departures[i]\n    departures[i] = (lon - 5, lat)\nend\n","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Evaluation:","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Destination  1    Ana ( -97.1˚E,  49.9˚N) reached by particle  1:    582 points\nDestination  2   Babu ( 115.0˚E,  -8.7˚N) reached by particle  2:    952 points\nDestination  3  Carla (  73.5˚E,  -4.6˚N)  missed by particle  3:  -1536 points\nDestination  4  Diego ( -51.7˚E,  64.2˚N) reached by particle  4:    353 points\nDestination  5   Elif ( 121.0˚E,  14.6˚N) reached by particle  5:    742 points\n\nEvaluation: 4/5 reached, 1093 points","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"(Image: submission: westerlies)","category":"page"},{"location":"submissions/#Blackbeard:-Way-too-close!","page":"List of submissions","title":"Blackbeard: Way too close!","text":"","category":"section"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"path: /submissions/superclose.jl","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"rank: 3. of 6 submissions","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"name = \"Blackbeard\"\ndescription = \"Way too close!\"\n\nnchildren = 10      # [1, 26]\nlayer = 1           # [1, 8], 1 is top layer, 8 is surface layer\n\n# Locations (lon, lat) in degrees ˚E, ˚N of the first 10 children\ndepartures = [\n    ( -97.1,  49.9),\n    ( 115.0,  -8.7),\n    (  73.5,  -4.6),\n    ( -51.7,  64.2),\n    ( 121.0,  14.6),\n    ( -70.7, -53.2),\n    ( 106.8,  10.8),\n    (  18.5, -33.9),\n    ( -74.1,   4.7),\n    (  -1.3,  51.8),\n]","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Evaluation:","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Destination  1    Ana ( -97.1˚E,  49.9˚N) reached by particle  1:      0 points\nDestination  2   Babu ( 115.0˚E,  -8.7˚N) reached by particle  2:      0 points\nDestination  3  Carla (  73.5˚E,  -4.6˚N) reached by particle  3:      0 points\nDestination  4  Diego ( -51.7˚E,  64.2˚N) reached by particle  4:      0 points\nDestination  5   Elif ( 121.0˚E,  14.6˚N) reached by particle  5:      0 points\nDestination  6 Felipe ( -70.7˚E, -53.2˚N) reached by particle  6:      0 points\nDestination  7   Gael ( 106.8˚E,  10.8˚N) reached by particle  7:      0 points\nDestination  8 Haruko (  18.5˚E, -33.9˚N) reached by particle  8:      0 points\nDestination  9   Isla ( -74.1˚E,   4.7˚N) reached by particle  9:      0 points\nDestination 10   Jose (  -1.3˚E,  51.8˚N) reached by particle 10:      0 points\n\nEvaluation: 10/10 reached, 0 points","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"(Image: submission: superclose)","category":"page"},{"location":"submissions/#Spongebob-Squarepants:-1-child","page":"List of submissions","title":"Spongebob Squarepants: 1 child","text":"","category":"section"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"path: /submissions/spongebob_single.jl","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"rank: 4. of 6 submissions","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"name = \"Spongebob Squarepants\"\ndescription = \"1 child\"\n\nnchildren = 1      # [1, 26]\nlayer = 8          # [1, 8], 1 is top layer, 8 is surface layer\n\n# single locations (lon, lat) in degrees ˚E, ˚N\ndepartures = [(0, 61.1)]\n","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Evaluation:","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Destination  1    Ana ( -97.1˚E,  49.9˚N)  missed by particle  1:  -5665 points\n\nEvaluation: 0/1 reached, -5665 points","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"(Image: submission: spongebob_single)","category":"page"},{"location":"submissions/#Flying-Dutchman:-Big-Foot-on-the-Interstate-10","page":"List of submissions","title":"Flying Dutchman: Big Foot on the Interstate 10","text":"","category":"section"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"path: /submissions/flying_dutchman.jl","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"rank: 5. of 6 submissions","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"name = \"Flying Dutchman\"\ndescription = \"Big Foot on the Interstate 10\"\n\nnchildren = 5\nlayer = 1\n\n# optional parameter:\n# number of model time steps between particle advection/tracking steps\n# fewer (shorter) steps yields smoother trajectories (default 6)\nnsteps = 18       \n\ndepartures = [\n    ( -82, 30),     # (lon, lat) in degrees for particle 1\n    ( -90, 31),     # particle 2\n    ( -98, 32),     # etc\n    (-106, 33),\n    (-114, 34),\n]\n","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Evaluation:","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Destination  1    Ana ( -97.1˚E,  49.9˚N)  missed by particle  5:  -7643 points\nDestination  2   Babu ( 115.0˚E,  -8.7˚N)  missed by particle  1: -44243 points\nDestination  3  Carla (  73.5˚E,  -4.6˚N)  missed by particle  1: -39981 points\nDestination  4  Diego ( -51.7˚E,  64.2˚N)  missed by particle  4: -21330 points\nDestination  5   Elif ( 121.0˚E,  14.6˚N)  missed by particle  1: -18350 points\n\nEvaluation: 0/5 reached, -131547 points","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"(Image: submission: flying_dutchman)","category":"page"},{"location":"submissions/#Sir-Francis-Drake:-Prime-Meridian-Party","page":"List of submissions","title":"Sir Francis Drake: Prime Meridian Party","text":"","category":"section"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"path: /submissions/prime_meridian.jl","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"rank: 6. of 6 submissions","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"name = \"Sir Francis Drake\"\ndescription = \"Prime Meridian Party\"\n\nnchildren = 26\nlayer = 8\n\n# like list comprehension in Python\ndepartures = [(0, lat) for lat in range(-90, 90, length=26)]\n","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Evaluation:","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"Destination  1    Ana ( -97.1˚E,  49.9˚N) reached by particle 22:  44136 points\nDestination  2   Babu ( 115.0˚E,  -8.7˚N)  missed by particle  9: -23445 points\nDestination  3  Carla (  73.5˚E,  -4.6˚N)  missed by particle  9:  -6017 points\nDestination  4  Diego ( -51.7˚E,  64.2˚N)  missed by particle 26:  -1018 points\nDestination  5   Elif ( 121.0˚E,  14.6˚N)  missed by particle 20: -32710 points\nDestination  6 Felipe ( -70.7˚E, -53.2˚N)  missed by particle  6:  -3341 points\nDestination  7   Gael ( 106.8˚E,  10.8˚N)  missed by particle 20: -31276 points\nDestination  8 Haruko (  18.5˚E, -33.9˚N)  missed by particle  9:  -1803 points\nDestination  9   Isla ( -74.1˚E,   4.7˚N)  missed by particle 21: -28994 points\nDestination 10   Jose (  -1.3˚E,  51.8˚N)  missed by particle 21:  -2597 points\nDestination 11  Karim ( 139.7˚E,  35.7˚N)  missed by particle 20:  -8334 points\nDestination 12   Lola (-157.8˚E,  21.3˚N)  missed by particle 23: -24794 points\nDestination 13  Maeve ( -96.7˚E,  17.1˚N)  missed by particle 23: -22924 points\nDestination 14   Noah ( 115.9˚E, -31.9˚N) reached by particle 11:  24608 points\nDestination 15   Omar ( 166.7˚E, -77.8˚N) reached by particle  3:  30717 points\nDestination 16  Priya ( 106.9˚E,  47.9˚N)  missed by particle 21:  -2797 points\nDestination 17 Quirin ( 151.2˚E, -33.9˚N)  missed by particle  8: -18763 points\nDestination 18 Rasmus (  15.6˚E,  78.2˚N) reached by particle 25:   1055 points\nDestination 19 Saanvi (-169.9˚E, -21.2˚N)  missed by particle  2: -32876 points\nDestination 20  Tomas ( -61.5˚E,  10.5˚N)  missed by particle 21: -23287 points\nDestination 21    Uma ( 158.7˚E,  53.0˚N)  missed by particle 23:  -1335 points\nDestination 22   Vera (  15.3˚E,   4.4˚N) reached by particle 14:   4428 points\nDestination 23 Walter (  -5.9˚E, -15.9˚N)  missed by particle 11:  -6696 points\nDestination 24    Xia (  85.3˚E,  27.7˚N)  missed by particle 18:  -8928 points\nDestination 25   Yuki ( -47.9˚E, -15.8˚N)  missed by particle 13: -19445 points\nDestination 26   Zara (  -7.6˚E,  33.6˚N)  missed by particle 17:  -1435 points\n\nEvaluation: 5/26 reached, -197871 points","category":"page"},{"location":"submissions/","page":"List of submissions","title":"List of submissions","text":"(Image: submission: prime_meridian)","category":"page"},{"location":"instructions/#TravellingSailorProblem-instructions","page":"Instructions","title":"TravellingSailorProblem instructions","text":"","category":"section"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"First, get yourself familiar with","category":"page"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"the general workflow to run a SpeedyWeather simulation\nhow do define N children as a Destination\nhow to setup Particle advection and choose departure locations\nEvaluation of your Christmas present delivery\nand Visualising trajectories so see where things have been blown!","category":"page"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"With the information from 3&4 you can then change the number of children/particles, and their departure locations (see Initial conditions) or vertical layer to fly on. Then you can repeat and find better parameters (departure locations, number of children, layer to fly on) to this problem.","category":"page"},{"location":"instructions/#Tapping-in-the-dark?","page":"Instructions","title":"Tapping in the dark?","text":"","category":"section"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"You can place as many particles as you like to explore the general circulation of a SpeedyWeather simulation. Where does the wind blow in which parts of the globe? Following the particles trajectories you follow the wind but beware weather is chaotic and so are the trajectories of particles. This means two neighbouring particles will sooner or later diverge, potentially ending up on other sides of the globe. But there are also areas where the prevailing wind direction is easily predictable and also largely laminar: So two particle stay close to another for a long time. Explore the wind field by placing particles in various places.","category":"page"},{"location":"instructions/#Strategy-1:-Start-nearby","page":"Instructions","title":"Strategy 1: Start nearby","text":"","category":"section"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"With children = TravellingSailorProblem.children(5) you know the locations of the first 5 (or any really) children. Start your particles close to their destinations that will make it much likelier that they reach their destination. See Initial conditions. Combined with the knowledge of where the wind comes from you can then reverse engineer where a particle could start from in order to reach the desired destination.","category":"page"},{"location":"instructions/#Strategy-2:-Start-small","page":"Instructions","title":"Strategy 2: Start small","text":"","category":"section"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"Don't try to reach all 26 children in the first round. Familiarise yourself with the best strategy to hit 1-3 children and if you found something that works try to scale up!","category":"page"},{"location":"instructions/#Strategy-3:-Sharing-is-caring","page":"Instructions","title":"Strategy 3: Sharing is caring","text":"","category":"section"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"But maybe also check with others that have already reached a particular child. Ana always lives in Winnipeg in each submission and the wind also blows in the same way! Team work is allowed, share your achievements, that's how open source software works!","category":"page"},{"location":"instructions/#Strategy-4:-Brute-force","page":"Instructions","title":"Strategy 4: Brute force","text":"","category":"section"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"You can always try to place many particles but then you will also face several problems","category":"page"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"How to create reproducibly many particles evenly across the globe? (Hint, Particle seeds)\nHow to pick the best particles?\nIn the final submission only as many particles as children (max 26) are allowed, not 10000.\nWith too many particles some may reach their destination too late because another particle delivered to a destination first, this does not necessarily maximise points.","category":"page"},{"location":"instructions/","page":"Instructions","title":"Instructions","text":"See also Visualising trajectories if you end up placing thousands of particles.","category":"page"},{"location":"new_to_julia/#New-to-Julia?","page":"New to Julia?","title":"New to Julia?","text":"","category":"section"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"The following lists some useful links if you are new to Julia and want to use TravellingSailorProblem.jl and SpeedyWeather.jl for education or research.","category":"page"},{"location":"new_to_julia/#Install-Julia","page":"New to Julia?","title":"Install Julia","text":"","category":"section"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"First of all you have to install Julia, the recommended way is using the installation manager for Julia called Juliaup, see here","category":"page"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"Install Julia","category":"page"},{"location":"new_to_julia/#Julia-kernel-for-Jupyter-notebooks","page":"New to Julia?","title":"Julia kernel for Jupyter notebooks","text":"","category":"section"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"Then you may want to use Julia inside Jupyter Notebooks (the \"Ju\" in \"Jupyter\" is for Julia!) for this you need to install IJulia which you can do through Julia's built-in package manager Pkg.jl, this is as easy as","category":"page"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"julia> ] add IJulia","category":"page"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"where ] opens the package manger. After this installing a Julia kernel for Jupyter is just","category":"page"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"julia> using IJulia\njulia> installkernel(\"Julia\")","category":"page"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"and you can choose \"Julia\" as a kernel in a Jupyter notebook.","category":"page"},{"location":"new_to_julia/#Julia-documentation,-tutorials-and-community-resources","page":"New to Julia?","title":"Julia documentation, tutorials and community resources","text":"","category":"section"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"JuliaLang documentation, particularly\nDifferences from Matlab/R/Python\nLearn Julia in y minutes\nJulia's discourse forum\nJoin the Julia slack and Zulip channel\nJulia's YouTube channel\nTutorials and books","category":"page"},{"location":"new_to_julia/#SpeedyWeather-documentation","page":"New to Julia?","title":"SpeedyWeather documentation","text":"","category":"section"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"Because TravellingSailorProblem.jl is built on top of SpeedyWeather.jl do have a look at the documentation therein which explains how to run and modify SpeedyWeather.","category":"page"},{"location":"new_to_julia/","page":"New to Julia?","title":"New to Julia?","text":"SpeedyWeather.jl documentation","category":"page"},{"location":"submit/#Submit-to-the-TravellingSailorProblem","page":"Submit","title":"Submit to the TravellingSailorProblem","text":"","category":"section"},{"location":"submit/","page":"Submit","title":"Submit","text":"Once you are ready to submit your solution to the TravellingSailorProblem do the following","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"Create a file like flying_dutchman.jl\nIn it, there needs to be several variables defined","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"name: a String with your name, your group's name etc\ndescription: a String describing your submission in <10 words\nnchildren: an Integer, the number of children and particles, between 1 and 26\nlayer: an Integer, the vertical layer the particles travel on, between 1 and 8\ndepartures: a vector of tuples determining the departures coordinates","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"plus some Optional settings. For example such a file could look like","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"name = \"Flying Dutchman and the Ghost\"\ndescription = \"Five on the equator\"\n\nnchildren = 5   # number of children and particles\nlayer = 8       # vertical layer\ndepartures = [\n    (  5, 0),   # (lon, lat) in degrees, particle 1\n    ( -5, 0),   # particle 2\n    (-15, 0),   # etc\n    (-25, 0),\n    (-35, 0),\n]","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"and create a pull request placing that file into the /submissions folder of the TravellingSailorProblem.jl repository. ","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"The file you submit is executed as a Julia script. This means you formatting does not matter  as long as it is valid Julia code and particularly you can code in it, for example","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"departures = [(30, 30) .+ randn(2) for i in 1:3]","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"is a valid (yet not reproducible because of randn) way to create 3 particles around 30˚E, 30˚N.","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"The easiest is to have a look a existing submissions listed in List of submissions and get some inspirations from TravellingSailorProblem instructions. The author and description strings are used in the List of submissions and the Leaderboard.","category":"page"},{"location":"submit/#Optional-settings","page":"Submit","title":"Optional settings","text":"","category":"section"},{"location":"submit/","page":"Submit","title":"Submit","text":"In addition to name, description ... etc. your file can but don't have to contain","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"NF = Float64 (or Float32, the default), the number format, in case you want to simulate at higher numerical precision\nnsteps = 6 (the default) defines the step length of the particle advection, shorter steps yield smoother trajectories","category":"page"},{"location":"submit/#Rules","page":"Submit","title":"Rules","text":"","category":"section"},{"location":"submit/","page":"Submit","title":"Submit","text":"You can submit for 1, 2, ... 26 children but N children will always start with Ana and then follow the alphabet.\nOne particle per child.\nSimulations start on 13 Nov 2025 and particles have to arrive by 24 Dec 2025 (41 days later).\nSimulations use SpeedyWeather's default configuration at T31 spectral resolution and 8 vertical layers.\nYou can choose the layer particles fly on.\nPoints are given following the Point system.\nYou can submit up to 10 unique submissions alone or in groups (don't overload GitHub actions with a million submissions).","category":"page"},{"location":"submit/","page":"Submit","title":"Submit","text":"In the end you can't really cheat because GitHub actions will evaluate your submission following these rules anyway...","category":"page"},{"location":"functions_types/#Functions-and-types","page":"Functions and types","title":"Functions and types","text":"","category":"section"},{"location":"functions_types/","page":"Functions and types","title":"Functions and types","text":"","category":"page"},{"location":"functions_types/#TravellingSailorProblem.DESTINATION_RADIUS","page":"Functions and types","title":"TravellingSailorProblem.DESTINATION_RADIUS","text":"DESTINATION_RADIUS = 100_000\n\nThe default radius (in meters) around a destination that a particle must reach to be  considered as having arrived at the destination.\n\n\n\n\n\n","category":"constant"},{"location":"functions_types/#TravellingSailorProblem.NAMES","page":"Functions and types","title":"TravellingSailorProblem.NAMES","text":"Predefined names for destinations, sorted alphabetically.\n\n\n\n\n\n","category":"constant"},{"location":"functions_types/#TravellingSailorProblem.NCHILDREN","page":"Functions and types","title":"TravellingSailorProblem.NCHILDREN","text":"NCHILDREN = 10\n\nThe default number of destinations/particles to create when using the children() function.\n\n\n\n\n\n","category":"constant"},{"location":"functions_types/#TravellingSailorProblem.PLACES","page":"Functions and types","title":"TravellingSailorProblem.PLACES","text":"Predefined places (lon, lat) for destinations.\n\n\n\n\n\n","category":"constant"},{"location":"functions_types/#TravellingSailorProblem.DEFAULT_NF","page":"Functions and types","title":"TravellingSailorProblem.DEFAULT_NF","text":"NF = Float32\n\nThe default numeric type (Float32) for destination coordinates.\n\n\n\n\n\n","category":"type"},{"location":"functions_types/#TravellingSailorProblem.Destination","page":"Functions and types","title":"TravellingSailorProblem.Destination","text":"Destination{NF} <: SpeedyWeather.AbstractCallback\n\nA callback structure representing a geographical destination that particles can reach. Tracks when particles arrive within a specified radius of the destination. Fields are \n\nlonlat::Tuple{NF, NF} where NF: [OPTION] Longitude and latitude coordinates of the destination\nname::Symbol: [OPTION] Name of the destination\nradius::Any: [OPTION] Radius (in meters) around the destination for arrival detection\nverbose::Bool: [OPTION] Whether to print messages when destination is reached\nreached::Bool: [DERIVED] Flag indicating whether the destination has been reached\nparticle::Int64: [DERIVED] Index of the particle that reached the destination\nclosest_distance::Any: [DERIVED] Minimum distance from any particle to the destination\nclosest_particle::Int64: [DERIVED] Index of the particle currently closest to the destination\npoints::Int64: [DERIVED] Points given for this destination (computed during evaluation)\n\n\n\n\n\n","category":"type"},{"location":"functions_types/#TravellingSailorProblem.Destination-Tuple{SpectralGrid}","page":"Functions and types","title":"TravellingSailorProblem.Destination","text":"Destination(\n    SG::SpectralGrid;\n    kwargs...\n) -> Destination{<:AbstractFloat}\n\n\nConstructor for creating a Destination with a specific number format (NF) from a SpectralGrid.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#Base.show-Union{Tuple{N}, Tuple{IO, NTuple{N, var\"#s13\"} where var\"#s13\"<:Destination}} where N","page":"Functions and types","title":"Base.show","text":"show(\n    io::IO,\n    ds::NTuple{N, var\"#s13\"} where var\"#s13\"<:Destination\n)\n\n\nPretty-print a tuple of destinations on separate lines.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#RingGrids.globe-Union{Tuple{ParticleTracker}, Tuple{N}, Tuple{ParticleTracker, Union{Nothing, NTuple{N, var\"#s8\"} where var\"#s8\"<:Destination}}} where N","page":"Functions and types","title":"RingGrids.globe","text":"globe(particle_tracker::ParticleTracker; ...) -> Figure\nglobe(\n    particle_tracker::ParticleTracker,\n    destinations::Union{Nothing, NTuple{N, var\"#s8\"} where var\"#s8\"<:Destination};\n    kwargs...\n) -> Figure\n\n\nMake destinations and particle_tracker arguments commutative by calling the main implementation with swapped argument order.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#RingGrids.globe-Union{Tuple{}, Tuple{Union{Nothing, NTuple{N, var\"#s3\"} where var\"#s3\"<:Destination}}, Tuple{N}, Tuple{Union{Nothing, NTuple{N, var\"#s2\"} where var\"#s2\"<:Destination}, Union{Nothing, ParticleTracker}}} where N","page":"Functions and types","title":"RingGrids.globe","text":"globe(; ...) -> Figure\nglobe(\n    destinations::Union{Nothing, NTuple{N, var\"#s3\"} where var\"#s3\"<:Destination};\n    ...\n) -> Figure\nglobe(\n    destinations::Union{Nothing, NTuple{N, var\"#s2\"} where var\"#s2\"<:Destination},\n    particle_tracker::Union{Nothing, ParticleTracker};\n    background,\n    coastlines,\n    shadows,\n    track_labels,\n    track_numbers,\n    legend,\n    altitude_destinations,\n    altitude_tracks,\n    altitude_shadows,\n    perspective,\n    altitude,\n    size,\n    greyscale_transform\n) -> Figure\n\n\nCreate a 3D interactive or static globe visualization of particle tracks and destinations.\n\nDisplays a spherical Earth background with particle trajectories and destination markers.  Destinations are shown as hexagons (unreached) or filled (reached), with the first letter as a marker. Particle tracks are drawn as 3D lines with optional shadows and track endpoints.\n\nArguments\n\ndestinations::NTuple{N, <:Destination}: Tuple of destination objects to display\nparticle_tracker::Union{Nothing, ParticleTracker}: Optional particle trajectory data from NetCDF file\nbackground::Bool: Show Earth background image (default: true)\ncoastlines::Bool: Draw coastlines (default: true)\ninteractive::Bool: Enable interactive 3D globe (GlobeAxis) or static orthographic view (default: true)\nshadows::Bool: Draw ground shadows for tracks and destinations (default: true)\ntrack_labels::Bool: Show particle endpoint markers and numbers (default: true)\ntrack_numbers::Bool: Display particle numbers at endpoints (default: true)\nlegend::Bool: Show legend with reached/missed status (default: true)\naltitude_tracks: Altitude offset for particle tracks in meters (default: 200000)\naltitude_destinations: Altitude offset for destination markers in meters (default: 200000)\nperspective: View center as (lon, lat) tuple or Destination object (default: (0, 0))\naltitude: Camera altitude for interactive view in meters (default: 1.2e7)\nsize::Tuple: Figure size as (width, height) in pixels (default: (500, 500))\nreturn_figure::Bool: Return figure object instead of displaying (default: false)\n\nReturns\n\nFigure if return_figure=true, otherwise displays the figure and returns nothing\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#SpeedyWeather.add!-Tuple{AbstractModel, Vararg{Destination}}","page":"Functions and types","title":"SpeedyWeather.add!","text":"add!(\n    model::AbstractModel,\n    destinations::Destination...\n) -> Any\n\n\nAdd one or more destinations as callbacks to a model.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#SpeedyWeather.add!-Tuple{Dict{Symbol, SpeedyWeather.AbstractCallback}, Vararg{Destination}}","page":"Functions and types","title":"SpeedyWeather.add!","text":"add!(\n    callbacks::Dict{Symbol, SpeedyWeather.AbstractCallback},\n    destinations::Destination...\n)\n\n\nAdd one or more destinations to the callbacks dictionary using their name as the key.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#SpeedyWeather.add!-Union{Tuple{N}, Tuple{Any, NTuple{N, var\"#s13\"} where var\"#s13\"<:Destination}} where N","page":"Functions and types","title":"SpeedyWeather.add!","text":"add!(\n    to,\n    destinations::NTuple{N, var\"#s13\"} where var\"#s13\"<:Destination\n) -> Any\n\n\nUnpack a tuple of destinations and add each one individually to the target.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#SpeedyWeather.callback!-Tuple{Destination, PrognosticVariables, DiagnosticVariables, AbstractModel}","page":"Functions and types","title":"SpeedyWeather.callback!","text":"callback!(\n    destination::Destination,\n    progn::PrognosticVariables,\n    diagn::DiagnosticVariables,\n    model::AbstractModel\n)\n\n\nMain callback function that checks if any particle has reached the destination. Tracks closest particle and deactivates it when reaching the destination.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#TravellingSailorProblem.children-Union{Tuple{}, Tuple{Any}, Tuple{T}, Tuple{Any, Type{T}}} where T","page":"Functions and types","title":"TravellingSailorProblem.children","text":"children(; ...) -> Tuple{Vararg{Destination{Float32}}}\nchildren(n; ...) -> Tuple\nchildren(n, ::Type{T}; kwargs...) -> Tuple\n\n\nCreate a tuple of n destinations with predefined locations and names from PLACES and NAMES.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#TravellingSailorProblem.destination_format-Tuple{Destination}","page":"Functions and types","title":"TravellingSailorProblem.destination_format","text":"destination_format(\n    d::Destination\n) -> Tuple{String, String, String}\n\n\nFormat a destination's information for display as (name, lon, lat) strings.\n\n\n\n\n\n","category":"method"},{"location":"functions_types/#TravellingSailorProblem.shortstring-Tuple{Destination}","page":"Functions and types","title":"TravellingSailorProblem.shortstring","text":"shortstring(d::Destination) -> String\n\n\nGenerate a compact string representation of a destination.\n\n\n\n\n\n","category":"method"},{"location":"#TravellingSailorProblem","page":"Home","title":"TravellingSailorProblem","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Documentation for TravellingSailorProblem, a repository to fly particles (like balloons) inside a SpeedyWeather.jl simulation. ","category":"page"},{"location":"#The-Problem","page":"Home","title":"The Problem","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The actual problem is:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Reach N predefined destinations with particles flying with the wind, launched anywhere on the globe. There will be more points for longer distances particles have flown before reaching their destination but and negative points if they miss it.","category":"page"},{"location":"","page":"Home","title":"Home","text":"So it's only vaguely related to the Travelling Salesman problem which is about minimizing a path you can choose. Here it's about maximising a path determined by the (turbulent) wind field but you can choose the starting point.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Contents","category":"page"},{"location":"","page":"Home","title":"Home","text":"Installation\nNew to Julia?\nDestination\nParticle advection including Visualising trajectories\nEvaluation","category":"page"},{"location":"","page":"Home","title":"Home","text":"And specifically for submitting to the TravellingSailorProblem:","category":"page"},{"location":"","page":"Home","title":"Home","text":"TravellingSailorProblem instructions\nSubmit to the TravellingSailorProblem\nTravellingSailorProblem leaderboard\nList of submissions","category":"page"},{"location":"#Quick-start","page":"Home","title":"Quick start","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"After the Installation copy and paste this into your Julia REPL, notebook etc","category":"page"},{"location":"","page":"Home","title":"Home","text":"using SpeedyWeather, TravellingSailorProblem\n\n# create a simulation for 26 children\nspectral_grid = SpectralGrid(trunc=31, nlayers=8, nparticles=26)\nparticle_advection = ParticleAdvection2D(spectral_grid, layer=8)\nmodel = PrimitiveWetModel(spectral_grid; particle_advection)\nsimulation = initialize!(model, time=DateTime(2025, 11, 13))\n\n# add 10 children as destinations\nchildren = TravellingSailorProblem.children(26)\nadd!(model, children)\n\n# add particle tracker\nparticle_tracker = ParticleTracker(spectral_grid)\nadd!(model, :particle_tracker => particle_tracker)\n\n# adjust initial locations of particles\n(; particles) = simulation.prognostic_variables\nparticles .= rand(Particle, 26)     # all 26 random (the default)\nparticles[1] = Particle(25, 35)     # or individually 25˚E, 35˚N\nparticles[2] = Particle(-120, 55)   # 120˚W, 55˚N\nparticles[3:10] .=                  # or several ones along the equator\n  [Particle(lon, 0) for lon in 100:20:240]\n\n# then run! simulation until Christmas\nrun!(simulation, period=Day(41))\n\n# evaluate\nevaluate(particle_tracker, children)\n\n# and visualise\nusing GLMakie\nglobe(children, particle_tracker)","category":"page"},{"location":"","page":"Home","title":"Home","text":"And you have the basic setup to create a simulation, place particles in it, run, evaluate and visualise. Change the particle departures to score higher, see more information in the TravellingSailorProblem instructions.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"First install Julia via juliaup (the recommended default way). TravellingSailorProblem.jl is a registered Julia packge so from the Julia REPL you can then do","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> ] add TravellingSailorProblem, SpeedyWeather, GLMakie","category":"page"},{"location":"","page":"Home","title":"Home","text":"where ] opens Julia's package manager interactively. SpeedyWeather is a dependency anyway and you will need its exported function and types to run a simulation. GLMakie is Makie's backend we use for visualisation: static and 3D+interactive. Don't use CairoMakie, as it will not render the 3D properties correctly. Equivalently, you can do","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg\nPkg.add([\"TravellingSailorProblem\", \"SpeedyWeather\", \"GLMakie\"])","category":"page"},{"location":"","page":"Home","title":"Home","text":"and after all dependencies are installed with julia> using TravellingSailorProblem, SpeedyWeather, GLMakie you load the packages, ready to solve the TravellingSailorProblem!","category":"page"},{"location":"","page":"Home","title":"Home","text":"You can use this software in different ways,","category":"page"},{"location":"","page":"Home","title":"Home","text":"in VS Code\nvia IJulia in Jupyter notebooks\nin Pluto notebooks\nin the Julia REPL (the standard terminal)\nor oldschool via julia my_script.jl","category":"page"},{"location":"","page":"Home","title":"Home","text":"Coming from Python? Have a look at a concise list of noteworthy differences.","category":"page"},{"location":"evaluation/#Evaluation","page":"Evaluation","title":"Evaluation","text":"","category":"section"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"To evaluate how many destionations you reached, delivering Christmas presents to the respective children after the simulation ran, do","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"evaluate(particle_tracker, children)","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"Within the whole setup this is","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"using TravellingSailorProblem, SpeedyWeather\n\nnchildren = 26\nspectral_grid = SpectralGrid(nparticles=nchildren, nlayers=8)\nparticle_advection = ParticleAdvection2D(spectral_grid, layer=8)\nmodel = PrimitiveWetModel(spectral_grid; particle_advection)\nsimulation = initialize!(model, time=DateTime(2025, 11, 13))\n\n# define children and add to the model as destinations\nchildren = TravellingSailorProblem.children(nchildren)\nadd!(model, children)\n\n# define particle tracker and add to the model\nparticle_tracker = ParticleTracker(spectral_grid)\nadd!(model, :particle_tracker => particle_tracker)\n\nrun!(simulation, period=Day(41))\n\nevaluate(particle_tracker, children)","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"And the last line will print you a list of all children and whether they have been reached or not, the respective points you got from each child (positive for reached, negative for missed) and a summary of points. The aim of the TravellingSailorProblem is to maximize the amount of points by reaching as many children as possible with particles flying as far as possible before reaching a child.","category":"page"},{"location":"evaluation/#Point-system","page":"Evaluation","title":"Point system","text":"","category":"section"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"We give","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"TravellingSailorProblem.POINTS_PER_KM_REACHED","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"positive point(s) for each km a particle flew before reaching its destination. A child would get more excited the further  their Christmas present flew? Imagine you get a Christmas present that flew through both the Arctic as well as Antarctica!","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"Additionally, we use","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"TravellingSailorProblem.POINT_FACTOR_AT_SURFACE","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"times higher points for particles that flew on the lowermost vertical layer compared to the uppermost. This calculation is done in Sigma-coordinates so when choosing layer=1 (top) one gets 1.0625 points per km flown, but on layer=8 (surface) one gets 1.9375 points per km flown. The reason is that the wind is more turbulent at the surface but more laminar higher up. To incentivise low-flying presents we therefore introduced this point-multiplier.","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"However, if a child doesn't get a Christmas present we give","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"TravellingSailorProblem.POINTS_PER_KM_MISSED","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"(note: NEGATIVE!) points for every km the closest particle ever was to a child. If you live on Hawai'i and no particle doesn't even get near you, you would also be pretty disappointed no? This incetivises you to get as close as possible to a child and you get less penalised if you barely miss it compared to not even trying to fly a present near it! Note the point mutiplier does not apply for missed children, negative points are the same on every vertical layer.","category":"page"},{"location":"evaluation/#Evaluate-submission-script","page":"Evaluation","title":"Evaluate submission script","text":"","category":"section"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"In Submit to the TravellingSailorProblem we illustrate a submission by using a script filename.jl which contains","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"nchildren = 5   # number of children and particles\nlayer = 8       # vertical layer\ndepartures = [\n    (  5, 0),   # (lon, lat) in degrees, particle 1\n    ( -5, 0),   # particle 2\n    (-15, 0),   # etc\n    (-25, 0),\n    (-35, 0),\n]","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"You can shortcut the evaluation following the procedure in the TravellingSailorProblem leaderboard by doing after having defined nchildren, layer and departures","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"using TravellingSailorProblem, SpeedyWeather # hide\nparticle_tracker, children = run_submission(nchildren=nchildren, layer=layer, departures=departures)\nevaluate(particle_tracker, children)","category":"page"},{"location":"evaluation/","page":"Evaluation","title":"Evaluation","text":"The first line will use nchildren, layer and departures to run a simulation with the default setup and return Particle tracker and children (the Destinations). The second line will then evaluate those and return points as described in Evaluation. And based on particle_tracker and children you can then also Visualising trajectories.","category":"page"},{"location":"leaderboard/#TravellingSailorProblem-leaderboard","page":"Leaderboard","title":"TravellingSailorProblem leaderboard","text":"","category":"section"},{"location":"leaderboard/","page":"Leaderboard","title":"Leaderboard","text":"The TravellingSailorProblem leaderboard ranks submissions in /submissions to the TravellingSailorProblem by the amount of precipitation measured in a given location and over a certain period. To Submit to the TravellingSailorProblem see that section of the docs and particular the rules and formalities explained within. Also see List of submissions for a list of all submissions, their respective code and trajectory plots Visualising trajectories.","category":"page"},{"location":"leaderboard/","page":"Leaderboard","title":"Leaderboard","text":"*MVP is the Most Valuable Player, the highest scoring child, the MVP performance is given in fractions of the Earth circumference. So \"Diego (1.2)\" means the particle that reached Diego flew 1.2x around the planet!","category":"page"},{"location":"leaderboard/#Leaderboard","page":"Leaderboard","title":"Leaderboard","text":"","category":"section"},{"location":"leaderboard/","page":"Leaderboard","title":"Leaderboard","text":"Rank Author Description Layer Destinations reached MVP* Points\n1 Jack Sparrow All 26 random 7 5/26 Jose (0.92) 34054\n2 Peter Pan Westerlies 5 4/5 Babu (0.02) 1093\n3 Blackbeard Way too close! 1 10/10 Ana (0.00) 0\n4 Spongebob Squarepants 1 child 8 0/1 Ana (-0.01) -5665\n5 Flying Dutchman Big Foot on the Interstate 10 1 0/5 Ana (-0.02) -131547\n6 Sir Francis Drake Prime Meridian Party 8 5/26 Ana (0.57) -197871","category":"page"}]
}
